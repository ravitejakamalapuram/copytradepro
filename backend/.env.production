# Production Environment Configuration
# Generated for standardized symbol management system deployment

# Environment
NODE_ENV=production
PORT=3001
FRONTEND_URL=https://copytrade-pro.onrender.com

# Security
JWT_SECRET=your-super-secure-jwt-secret-key-here-minimum-32-characters
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Database Configuration (MongoDB)
MONGODB_URI=mongodb://localhost:27017/copytrade

# Symbol Management Configuration
UPSTOX_API_KEY=your-upstox-api-key
UPSTOX_API_SECRET=your-upstox-api-secret
UPSTOX_REDIRECT_URI=https://your-domain.com/api/options/upstox/callback
OPTIONS_DATA_REFRESH_TIME=08:00
OPTIONS_CLEANUP_EXPIRED=true
OPTIONS_MAX_EXPIRY_DAYS=90

# Broker API Configuration
# Shoonya Broker
SHOONYA_VENDOR_CODE=your-vendor-code
SHOONYA_IMEI=your-imei
SHOONYA_API_KEY=your-api-key
SHOONYA_AUTH_TOKEN=your-auth-token

# Fyers Broker
FYERS_CLIENT_ID=your-client-id
FYERS_SECRET_KEY=your-secret-key
FYERS_REDIRECT_URI=https://your-domain.com/api/broker/fyers/callback

# Push Notifications (VAPID Keys)
VAPID_PUBLIC_KEY=your-vapid-public-key-here
VAPID_PRIVATE_KEY=your-vapid-private-key-here
VAPID_EMAIL=mailto:your-email@domain.com

# Production Logging Configuration
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=false
ENABLE_CONSOLE_LOGGING=false
ENABLE_FILE_LOGGING=true

# Enhanced Error Logging Configuration
ERROR_LOG_LEVEL=ERROR
ERROR_LOG_RETENTION_DAYS=30
ERROR_LOG_MAX_SIZE_MB=100
ERROR_LOG_MAX_FILES=50
TRACE_LOG_RETENTION_DAYS=7
TRACE_LOG_MAX_SIZE_MB=50
TRACE_LOG_MAX_FILES=20
ANALYTICS_LOG_RETENTION_DAYS=90
ANALYTICS_LOG_MAX_SIZE_MB=200
ANALYTICS_LOG_MAX_FILES=100

# Log Rotation Configuration
ERROR_LOG_ROTATION_ENABLED=true
ERROR_LOG_ROTATION_FREQUENCY=daily
ERROR_LOG_ROTATION_SIZE_MB=10
ERROR_LOG_COMPRESSION_ENABLED=true
ERROR_LOG_ARCHIVE_PATTERN=YYYY-MM-DD

# Error Log Security Configuration
ERROR_LOG_ENCRYPTION_ENABLED=false
ERROR_LOG_ENCRYPTION_KEY=your-32-character-encryption-key-here
ERROR_LOG_ACCESS_CONTROL_ENABLED=true
ERROR_LOG_ALLOWED_ROLES=admin,developer
ERROR_LOG_REQUIRE_AUTH=true
ERROR_LOG_AUDIT_ACCESS=true
ERROR_LOG_SANITIZATION_ENABLED=true

# Error Log Performance Configuration
ERROR_LOG_ASYNC_ENABLED=true
ERROR_LOG_BATCH_SIZE=100
ERROR_LOG_FLUSH_INTERVAL_MS=5000
ERROR_LOG_MAX_MEMORY_MB=50
ERROR_LOG_COMPRESSION_LEVEL=6

# Error Log Database Configuration
ERROR_LOG_DATABASE_ENABLED=true
ERROR_LOG_COLLECTION=error_logs
ERROR_LOG_DB_TTL_ENABLED=true
ERROR_LOG_DB_TTL_DAYS=90
TRACE_LOG_DB_TTL_DAYS=30

# Error Log Monitoring and Alerting
ERROR_LOG_MONITORING_ENABLED=true
ERROR_LOG_HEALTH_CHECK_INTERVAL_MS=60000
ERROR_LOG_HEALTH_CHECK_TIMEOUT_MS=5000
ERROR_LOG_HEALTH_CHECK_RETRIES=3
ERROR_LOG_METRICS_ENABLED=true
ERROR_LOG_METRICS_INTERVAL_MS=300000
ERROR_LOG_METRICS_RETENTION_HOURS=24

ERROR_LOG_ALERTING_ENABLED=false
ERROR_RATE_ALERT_THRESHOLD=0.05
CRITICAL_ERROR_ALERT_THRESHOLD=5
SYSTEM_ERROR_ALERT_THRESHOLD=10
LOG_DISK_USAGE_ALERT_THRESHOLD=0.8
ERROR_ALERT_EMAIL_ENABLED=false
ERROR_ALERT_SLACK_ENABLED=false
ERROR_ALERT_WEBHOOK_ENABLED=false

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
ALLOWED_ORIGINS=https://copytrade-pro.onrender.com

# Performance Configuration
ENABLE_CLUSTERING=false
WORKER_COUNT=2
MAX_MEMORY_USAGE=512
GC_INTERVAL=300000
ENABLE_CACHING=true
CACHE_SIZE=1000
CACHE_TTL=300000
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6

# Database Performance
MONGO_POOL_SIZE=10
MONGO_MAX_POOL_SIZE=50
DB_QUERY_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000

# Symbol Processing Performance
SYMBOL_BATCH_SIZE=1000
SYMBOL_PROCESSING_CONCURRENCY=5

# API Performance
API_RESPONSE_CACHING=true
API_CACHE_DURATION=60000

# Monitoring and Alerting
ALERTING_ENABLED=true
ALERT_WEBHOOK_URL=https://your-webhook-url.com/alerts
EMAIL_ALERTS_ENABLED=false
SLACK_ALERTS_ENABLED=false

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=15000
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_RETRY_DELAY=3000

# Deployment Configuration
SYMBOL_SERVICE_TIMEOUT=60
SYMBOL_DATA_VALIDATION=true
BACKUP_SYMBOL_DATA=true

# Monitoring Thresholds
RESPONSE_TIME_THRESHOLD=5000
ERROR_RATE_THRESHOLD=0.05
MEMORY_USAGE_THRESHOLD=500
SYMBOL_UPDATE_FAILURE_THRESHOLD=3
DB_CONNECTION_FAILURE_THRESHOLD=5